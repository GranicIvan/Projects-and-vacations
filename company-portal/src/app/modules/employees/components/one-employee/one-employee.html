<div style="display: flex; justify-content: center; padding: 1rem; margin-bottom: 2rem">
  <div style="background: var(--gray-900); padding: 3rem; border-radius: 12px; width: 100%; max-width: 900px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1)">
    <div style="text-align: center; margin-bottom: 2rem">
      <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="margin: 0 auto 1rem; display: block">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <h2 style="color: white; margin: 0; font-size: 1.75rem">Employee Details</h2>
    </div>

    @if (employee) {
      <div style="background: white; border-radius: 8px; padding: 2.5rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05)">
        <div style="display: flex; flex-direction: column; gap: 1rem">
          
          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
              </svg>
              ID
            </label>
            <p style="color: #333; font-size: 1rem; margin: 0; font-weight: 500">{{ employee.id }}</p>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              First Name
            </label>
            <p style="color: #333; font-size: 1rem; margin: 0; font-weight: 500">{{ employee.firstName }}</p>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Last Name
            </label>
            <p style="color: #333; font-size: 1rem; margin: 0; font-weight: 500">{{ employee.lastName }}</p>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              Date of Birth
            </label>
            <p style="color: #333; font-size: 1rem; margin: 0; font-weight: 500">
              {{ employee.dateOfBirth | date: 'mediumDate' }}
            </p>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
              </svg>
              Email
            </label>
            <p style="color: #333; font-size: 1rem; margin: 0; font-weight: 500">{{ employee.email }}</p>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              Address
            </label>
            <p style="color: #333; font-size: 1rem; margin: 0; text-align: right; max-width: 450px; font-weight: 500">
              {{ employee.address }}
            </p>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              Vacation Days Left
            </label>
            <span style="
              background: var(--french-violet);
              color: white;
              padding: 0.35rem 1rem;
              border-radius: 20px;
              font-size: 1rem;
              font-weight: 600;
            ">
              {{ employee.vacationDaysLeft }} days
            </span>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 0; border-bottom: 2px solid #e9ecef">
            <label style="color: #666; font-weight: 600; font-size: 0.95rem; display: flex; align-items: center; gap: 0.5rem">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
              </svg>
              Role
            </label>

            <span [style]="'background: ' + (employee.userRole === 'ADMIN' ? '#28a745' : '#6c757d') + '; color: white; padding: 0.35rem 1rem; border-radius: 20px; font-size: 0.875rem; font-weight: 600;'">
              {{ employee.userRole === 'ADMIN' ? 'Administrator' : 'Employee' }}
            </span>
          </div>

          <!-- Projects Section -->
          <div style="margin-top: 2rem; padding-top: 2rem; border-top: 3px solid #e9ecef">
            <h3 style="color: #333; font-size: 1.35rem; margin: 0 0 1.5rem 0; display: flex; align-items: center; gap: 0.5rem">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--french-violet)" stroke-width="2">
                <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
              </svg>
              Assigned Projects
            </h3>

            @if (employee.projectAssignment && employee.projectAssignment.length > 0) {
              <div style="display: flex; flex-direction: column; gap: 1rem">
                @for (assignment of employee.projectAssignment; track assignment.id) {
                  <div style="
                    padding: 1.25rem;
                    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
                    border-radius: 8px;
                    border-left: 4px solid var(--french-violet);
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
                    transition: transform 0.2s, box-shadow 0.2s;
                  "
                  onmouseover="this.style.transform='translateX(4px)'; this.style.boxShadow='0 4px 8px rgba(0, 0, 0, 0.1)'"
                  onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='0 2px 4px rgba(0, 0, 0, 0.05)'">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem">
                      <p style="color: #333; font-weight: 700; margin: 0; font-size: 1.1rem">
                        {{ assignment.project.projectName }}
                      </p>
                      <span style="
                        background: var(--french-violet);
                        color: white;
                        padding: 0.35rem 0.85rem;
                        border-radius: 16px;
                        font-size: 0.9rem;
                        font-weight: 600;
                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                      ">
                        ${{ assignment.hourlyPay }}/hr
                      </span>
                    </div>
                    <p style="color: #666; font-size: 0.9rem; margin: 0; line-height: 1.5">
                      {{ assignment.project.description }}
                    </p>
                  </div>
                }
              </div>
            } @else {
              <div style="background: #f8f9fa; padding: 2rem; border-radius: 8px; text-align: center; border: 2px dashed #dee2e6">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="2" style="margin: 0 auto 1rem; display: block">
                  <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                </svg>
                <p style="color: #999; font-style: italic; margin: 0">No projects assigned yet</p>
              </div>
            }
          </div>

          @if (employee.userRole === 'ADMIN') {
            <div style="display: flex; gap: 1rem; margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e9ecef">
              <button
                (click)="goToEdit()"
                style="
                  color: white;
                  padding: 1rem 2rem;
                  border-radius: 6px;
                  background: var(--french-violet);
                  border: none;
                  cursor: pointer;
                  font-size: 1rem;
                  font-weight: 600;
                  flex: 1;
                  transition: all 0.2s;
                  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                "
                onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 8px rgba(0, 0, 0, 0.15)'"
                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(0, 0, 0, 0.1)'"
              >
                Edit Employee
              </button>

              <button
                routerLink="/employees"
                style="
                  color: #333;
                  padding: 1rem 2rem;
                  border-radius: 6px;
                  background: #e9ecef;
                  border: none;
                  cursor: pointer;
                  font-size: 1rem;
                  font-weight: 600;
                  flex: 1;
                  transition: all 0.2s;
                "
                onmouseover="this.style.background='#dee2e6'"
                onmouseout="this.style.background='#e9ecef'"
              >
                Back to Employees
              </button>
            </div>
          }

        </div>
      </div>
    } @else {
      <div style="background: white; border-radius: 8px; padding: 3rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); text-align: center">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="2" style="margin: 0 auto 1rem; display: block; animation: spin 1s linear infinite">
          <circle cx="12" cy="12" r="10"></circle>
        </svg>
        <p style="color: #666; text-align: center; margin: 0">Loading employee details...</p>
      </div>
    }
  </div>
</div>

<style>
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
</style>
